{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-05-05 10:35:07.632474",
 "css": "\n.container {\n    margin: 10px auto;\n    padding: 10px;\n    width: auto;\n    max-width: 100%;\n    overflow-x: hidden; \n}\n\n.superior h4 {\n    text-align: center;\n    font-size: 20px; /* Aumenta el tama\u00f1o de la letra */\n\n}\n\n\n.column {\n        margin-top: 0; /* Asegura que no haya espacio extra arriba */\n    padding-top: 0; /* Elimina cualquier relleno extra */\n    line-height: 1.1;\n  float: left;\n  width: 50%;\n}\n\n#datos_animal h3 {\n    margin-top:0px;\n    margin-bottom: 0px; /* Reduce el espacio debajo del t\u00edtulo */\n}\n#datos_dueno h3 {\n    margin-top:0px;\n    margin-bottom: 0px; /* Reduce el espacio debajo del t\u00edtulo */\n}\n#medicamento h3 {\n    margin-top:0px;\n    margin-bottom: 0px; /* Reduce el espacio debajo del t\u00edtulo */\n}\n\n#datos_veterinario h3 {\n    margin-top:0px;\n    margin-bottom: 0px; /* Reduce el espacio debajo del t\u00edtulo */\n}\n#autorizacion h3 {\n    margin-top:0px;\n    margin-bottom: 0px; /* Reduce el espacio debajo del t\u00edtulo */\n}\n\n#autorizacion .column{\n    text-align: center;\n}\n\n\n .column_35 {\n    margin-top: 0; /* Asegura que no haya espacio extra arriba */\n    padding-top: 0; /* Elimina cualquier relleno extra */\n    line-height: 1.1;\n  float: left;\n  width: 35%;\n}\n\n/* Clear floats after the columns */\n.mi-row:after {\n margin:0;\n  content: \"\";\n  display: table;\n  clear: both;\n    \n}\n.mi-row{\n    margin-top: 2px;/* Asegura que no haya espacio extra arriba */\n    padding-top: 0; /* Elimina cualquier relleno extra */\n    margin-left: 5px;\n    margin-right: 5px;\n\n}\n\n.cuadro {\n    margin-top: 5px;\n    padding: 8px;\n    border: 3px solid #1e81b0;\n    border-radius: 10px;\n    page-break-inside: avoid;\n}\n\n.item{\n    text-align:center;\n  display: block;\n  margin: auto;\n  width: 50%;\n} \n\n\n.print-format.print-format-preview {\n    padding: 0 !important; /* Elimina el padding */\n}\n\n",
 "custom_format": 1,
 "default_print_language": "es",
 "disabled": 0,
 "doc_type": "Animal",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<body>\n    <div class=\"container\">\n    {% if doc.atencion and doc.atencion|length > 0 %}\n      {% set consultas = doc.atencion | selectattr(\"tipo\", \"==\", \"Consulta\") | list %}\n      {% if consultas %}\n        {% set consulta = consultas[-1] %}\n        <!-- Datos de la mascota y due\u00f1o -->\n        <div class= \"superior\">\n            <img src=\"/assets/prueba/images/logo.png\" height=\"70px\" width=100% align=\"center\">\n            <h4>CONSULTA</h4>\n\n        </div>\n        \n        \n        <div class=\"cuadro\" id=\"datos_animal\">\n            <h3>Datos del Animal</h3>\n            {% if doc.animal_rescatado == \"Si\"%} <h4> Animal rescatado por IMUSA </h4>{% endif %}\n            <div class=\"mi-row\">\n                <div class=\"column\">\n                    <p><strong>Nombre: </strong> {% if doc.nombre %} {{doc.nombre}} {%else %} No especificado {% endif %}</p>\n                    <p><strong>Especie: </strong>{{ doc.especie }}</p>\n                    <p><strong>Raza: </strong>{{ doc.raza }}</p>\n                    <p><strong>Sexo: </strong>{{ doc.sexo }}</p>\n                </div>\n                <div class=\"column\">\n                    <p><strong>Edad: </strong>\n                    {% if doc.fecha_nacimiento %}\n                        {% set nacimiento = frappe.utils.getdate(doc.fecha_nacimiento) %}\n                        {% set hoy = frappe.utils.get_datetime().date() %}\n                        {% set dias = (hoy - nacimiento).days %}\n                        {% if dias < 90 %}\n                            {{ dias }} d\u00edas\n                        {% elif dias < 365 %}\n                            {% set meses = ((hoy.year - nacimiento.year) * 12 + (hoy.month - nacimiento.month)) %}\n                            {% if hoy.day < nacimiento.day %}\n                                {% set meses = meses - 1 %}\n                            {% endif %}\n                            {{ meses }} meses\n                        {% else %}\n                            {% set edad = hoy.year - nacimiento.year %}\n                            {% if (hoy.month, hoy.day) < (nacimiento.month, nacimiento.day) %}\n                                {% set edad = edad - 1 %}\n                            {% endif %}\n                            {{ edad }} {%if edad == 1 %} a\u00f1o {% else %} a\u00f1os {%endif %}\n                        {% endif %}\n                    </p>\n                    {% else %}\n                        No especificada</p>\n                    {% endif %}\n\n                    <p><strong>Peso: </strong>{%if consulta.peso %}{{ consulta.peso }} kg{%else%} No especificado {%endif%}</p>\n                    <p><strong>Tama\u00f1o: </strong>{{ doc.tamano }}</p>\n                    <p><strong>Color pelaje: </strong>{{ doc.color_pelaje }}</p>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"cuadro\" id=\"datos_dueno\">\n            <h3>Datos del Due\u00f1o</h3>\n            <div class=\"mi-row\">\n                <div class=\"column\">\n                    <p><strong>Nombre: </strong>{{ frappe.db.get_value(\"Persona\", [doc.documentop], \"nombre\") }}</p>\n                    <p><strong>Apellido: </strong>{{ frappe.db.get_value(\"Persona\", [doc.documentop], \"apellido\") }}</p>\n                    <p><strong>N\u00famero de Documento: </strong>{{ frappe.db.get_value(\"Persona\", [doc.documentop], \"numero_documento\") }}</p>\n                </div>\n                <div class=\"column\">\n                    <p><strong>Direcci\u00f3n: </strong>{{ frappe.db.get_value(\"Persona\", [doc.documentop], \"direccion\") }}</p>\n                    <p><strong>Tel\u00e9fono: </strong>{%set telefo = frappe.db.get_value(\"Persona\", [doc.documentop], \"telefono\")%}{%if telefono %} {{telefono}} {%else %} No especificado{%endif%}</p>\n                    <p><strong>Correo: </strong>{%set correo = frappe.db.get_value(\"Persona\", [doc.documentop], \"correo\")%}{%if correo %} {{correo}} {%else %} No especificado{%endif%}</p>\n                </div>\n            </div>\n        </div>\n\n        \n        {% set medicamentos = frappe.db.get_list(\"Medicamentos_Atencion\", filters={'animal': doc.name, 'atencion': consulta.name}, fields=['name']) %}\n        {% if medicamentos | length > 0 and 'name' in medicamentos[0] %} \n            {% set medicamentos = frappe.get_doc(\"Medicamentos_Atencion\", medicamentos[0].name) %}\n            {%set medicamentos = medicamentos.medicamentos %}\n            {% if medicamentos | length > 0 %} \n                <div class=\"cuadro\" id=\"medicamento\">\n                    <h3>Medicamentos Suministrados </h3>\n                    <div class=\"mi-row\">\n                        {% for medi in medicamentos %}\n                            <div class=\"column_35\">\n                                    <p><strong>Medicamento:</strong> {{ medi.medicamento }}</p>\n                            </div>\n                            <div class=\"column_35\">\n                                 <p><strong>Cantidad:</strong> {{ medi.cantidad }} ml</p>\n                            </div>                        \n                        {% endfor %}\n\n                    </div>\n                </div>\n            {% endif %}\n        {% endif %}\n        <div class=\"cuadro\" id=\"datos_veterinario\">\n            <h3>Datos del Veterinario</h3>\n            <div class=\"mi-row\">\n                <div class=\"column\">\n                    <p><strong>Nombre: </strong>{{ frappe.db.get_value(\"Persona\", [consulta.veterinario], \"nombre\") }}</p>\n                    <p><strong>Apellido: </strong>{{ frappe.db.get_value(\"Persona\", [consulta.veterinario], \"apellido\") }}</p>\n                    <p><strong>N\u00famero de Documento: </strong>{{ frappe.db.get_value(\"Persona\", [consulta.veterinario], \"numero_documento\") }}</p>\n                    <p><strong>Matricula: </strong>{{ frappe.db.get_value(\"Veterinario\", [consulta.veterinario], \"matricula\") }}</p>\n                </div>\n                <div class=\"column\">\n                    <div class=\"item\">\n                        <img src=\"{{  frappe.db.get_value(\"Veterinario\", [consulta.veterinario], \"firma\") }}\" alt=\"Firma de egreso\" ;\">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"cuadro\" id=\"autorizacion\">\n            <h3>Autorizaci\u00f3n</h3>\n            <div class=\"mi-row\">\n            <p><strong> Quien entrega Animal: </strong> {{frappe.db.get_value(\"Persona\", [consulta.persona_ingresante], \"nombre\")}}   {{frappe.db.get_value(\"Persona\", [consulta.persona_ingresante], \"apellido\")}} </p> \n            <p><strong>Documento: </strong> {{frappe.db.get_value(\"Persona\", [consulta.persona_ingresante], \"numero_documento\")}}   </p> \n\n                <div class=\"column\">\n                    <div class=\"item\">\n                        {% if consulta.firma_ingreso %}\n                        <img src=\"{{ consulta.firma_ingreso }}\" alt=\"Firma de ingreso\" style=\"max-width: 300px; height: auto;\">\n                        {%endif%}\n                    </div>\n                    <p><strong>Ingreso</strong></p>\n                    <p><strong>Fecha: </strong>{{ frappe.utils.get_datetime(consulta.ingreso).strftime(\"%d/%m/%Y\") }}\n                       <strong>Hora: </strong>{{ frappe.utils.get_datetime(consulta.ingreso).strftime(\"%H:%M\") }}</p>\n                    \n                </div>\n                <div class=\"column\">\n                    <div class=\"item\">\n                        {% if consulta.firma_egreso %}\n                        <img src=\"{{ consulta.firma_egreso }}\" alt=\"Firma de egreso\" style=\"max-width: 300px; height: auto;\">\n                        {%endif%}\n                    </div class=\"item\">\n                    <p><strong>Egreso</strong></p>\n                    <p><strong>Fecha: </strong>{{ frappe.utils.get_datetime(consulta.egreso).strftime(\"%d/%m/%Y\") }}\n                       <strong>Hora: </strong>{{ frappe.utils.get_datetime(consulta.egreso).strftime(\"%H:%M\") }}</p>\n    \n                </div>\n            </div>\n        </div>\n        \n    </div>\n    {% endif %}\n    {%endif %}\n</body>\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-06-05 10:29:19.202669",
 "modified_by": "Administrator",
 "module": "IMUSA",
 "name": "Consulta",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}
